<box type="container">
  <box type="xl error" icon="warning" flex="true" url="https://tvtracker.co.za">
    <div class="text-center" style="width: 100%;">
      <h3 class="text-center">BETA SITE</h3>
    </div><br>Currently a work in progress. For the current site go to https://tvtracker.co.za
  </box>
</box>

<box type="container">
  <box type="xl" flex="true">
    Soon enough you will be able to keep track of your favourite shows, and know exactly when that next episode will be coming out.
  </box>
</box>

<app-alerts></app-alerts>

<div class="container row col swiper-container-outer">
  <h3>Coming Soon</h3>
  <div id="future-pagination" class="swiper-pagination"></div>
  <div id="future-prev" class="swiper-button-prev"></div>
  <div id="future-next" class="swiper-button-next"></div>

  <div class="swiper-container swiper-container-future">
    <div class="swiper-wrapper">
      <div class="swiper-slide episode" *ngFor="let episode of futureEpisodes">
        <div class="swiper-lazy-preloader"></div>
        <a [routerLink]="['/show/', episode.slug]" class="inner">
          <h4 class="heading" *ngIf="episode.seriesname">{{episode.seriesname}} - {{episode.key}}</h4>
          <div class="airtime" *ngIf="episode.human_time">{{episode.human_time}}</div>
          <div class="poster" *ngIf="getImagePoster(episode)">
            <img width="100" height="auto" [attr.data-src]="getImagePoster(episode)" class="poster-img swiper-lazy" />
          </div>
        </a>
      </div>
    </div>
    <div class="swiper-scrollbar"></div>
  </div>
</div>

<div class="container row col swiper-container-outer">
  <h3>Recent Episodes</h3>
  <div id="recent-pagination" class="swiper-pagination"></div>
  <div id="recent-prev" class="swiper-button-prev"></div>
  <div id="recent-next" class="swiper-button-next"></div>

  <div class="swiper-container swiper-container-recent">
    <div class="swiper-wrapper">
      <div class="swiper-slide episode" *ngFor="let episode of recentEpisodes">
        <div class="swiper-lazy-preloader"></div>
        <a [routerLink]="['/show/', episode.slug]" class="inner" *ngIf="!episode.test">
          <h4 class="heading" *ngIf="episode.seriesname">{{episode.seriesname}} - {{episode.key}}</h4>
          <div class="airtime" *ngIf="episode.human_time">{{episode.human_time}}</div>
          <div class="poster" *ngIf="getImagePoster(episode)">
            <img width="100" height="auto" [attr.data-src]="getImagePoster(episode)" class="poster-img swiper-lazy" />
          </div>
        </a>
      </div>
    </div>
    <div class="swiper-scrollbar"></div>
  </div>
</div>

<div class="listing">
  <h3>Favorite Shows</h3>

  <box type="container">
    <box type="md" flex="true">
      <div *ngIf="!searching" class="btn" (click)="searching=true">Find more shows</div>
      <form novalidate #searchForm="ngForm" (ngSubmit)="searchForSeries()" *ngIf="searching">
        <label for="search">
          Find a new show to track
          <input
            id="search"
            type="text"
            placeholder="Game of Thrones"
            name="search"
            [(ngModel)]="search"
          />
        </label>
        <input type="submit" value="Search" (click)="searchForSeries()" />
      </form>
    </box>

    <box type="md" flex="true">
      <div *ngIf="!filtering" class="btn" (click)="filtering=true">Filter my shows</div>
      <form novalidate #filterForm="ngForm" *ngIf="filtering">
        <label for="filter">
          Filter my shows
          <input
            id="filter"
            type="text"
            placeholder="Game of Thrones"
            name="filter"
            [(ngModel)]="filter"
          />
        </label>
      </form>
    </box>
  </box>

  <div class="row grid-row">
    <div class="col-sm-6 col-md-3 col-lg-2 col-2" *ngFor="let episode of favorites | search:'seriesname,overview':filter">
      <div class="episode">
        <a [routerLink]="['/show/', episode.slug]" class="inner" *ngIf="!episode.test">
          <h4 class="heading" *ngIf="episode.seriesname">{{episode.seriesname}}</h4>
          <div class="airtime" *ngIf="episode.human_time">{{episode.human_time}}</div>
          <div class="poster" *ngIf="getImagePoster(episode)">
            <img width="100" height="auto" [src]="getImagePoster(episode)" class="poster-img swiper-lazy" />
          </div>
          <div class="btn action">Untrack</div>
        </a>
      </div>
    </div>
  </div>
</div>
